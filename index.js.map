{"version":3,"file":"index.js","sources":["../src/js/projects.js","../src/js/faq.js","../src/js/observer.js","../src/js/reviews.js","../src/js/modal-window.js","../src/js/work-together.js","../src/js/mob-menu.js","../src/js/changes-mod.js"],"sourcesContent":["let count = 3;\nconst btnLoadMore = document.querySelector('.load-more');\nbtnLoadMore.addEventListener('click', addProjects);\n\nfunction addProjects() {\n  const listHidden = document.querySelectorAll(\n    '.project-list .visually-hidden'\n  );\n\n  if (listHidden.length <= 3) {\n    count = listHidden.length;\n    btnLoadMore.classList.add('visually-hidden');\n    btnLoadMore.removeEventListener('click', addProjects);\n  }\n\n  for (let i = 0; i < count; i++) {\n    listHidden[i].classList.remove('visually-hidden');\n  }\n}\n","import Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const accordion = new Accordion('#ac-list', {\n    closeOther: true,\n  });\n  accordion.open(0);\n});\n","export const createObserver = renderFunction => {\n  return new IntersectionObserver(\n    (entries, observer) => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          renderFunction();\n          observer.unobserve(entry.target);\n        }\n      });\n    },\n    {\n      rootMargin: '0px 0px -300px 0px',\n      threshold: 0,\n    }\n  );\n};\n","import Swiper from 'swiper';\nimport axios from 'axios';\nimport { Navigation } from 'swiper/modules';\nimport { createObserver } from './observer';\n\nconst reviewList = document.querySelector('.swiper-wrapper');\nconst errorText = document.querySelector('.error-text');\nconst prevSlide = document.querySelector('.swiper-button-prev');\nconst nextSlide = document.querySelector('.swiper-button-next');\nconst sliderIcon = document.querySelector('.slider-icon');\n\nconst fetchReviews = async () => {\n  try {\n    const response = await axios.get(\n      'https://portfolio-js.b.goit.study/api/reviews'\n    );\n    errorText.style.display = 'none';\n    return response.data;\n  } catch (error) {\n    errorText.style.display = 'block';\n    prevSlide.style.display = 'none';\n    nextSlide.style.display = 'none';\n    console.log(error);\n  }\n};\n\nconst createMarkup = reviews => {\n  return reviews\n    .map(\n      review => `\n        <div class='swiper-slide'>\n        <li class='review-card'>\n            <p class='review-text'>${review.review}</p>\n            <div class='author-info'>\n                <img src='${review.avatar_url}' alt='${review.author}' class='review-img'/>\n                <p class='review-author'>${review.author}</p>\n            </div>\n        </li>\n        </div>\n    `\n    )\n    .join('');\n};\n\nconst renderReviews = async () => {\n  const reviews = await fetchReviews();\n  if (!reviews) {\n    errorText.style.display = 'block';\n    prevSlide.style.display = 'none';\n    nextSlide.style.display = 'none';\n    return;\n  }\n\n  const markup = createMarkup(reviews);\n  reviewList.insertAdjacentHTML('beforeend', markup);\n\n  const updateButtonsState = swiper => {\n    if (swiper.isBeginning) {\n      prevSlide.classList.add('disabled');\n    } else {\n      prevSlide.classList.remove('disabled');\n      prevSlide.style.transition = 'all .3s ease-out allow-discrete';\n      sliderIcon.style.transition = 'all .3s ease-out allow-discrete';\n    }\n\n    if (swiper.isEnd) {\n      nextSlide.classList.add('disabled');\n      nextSlide.style.transition = 'all .3s ease-out allow-discrete';\n      sliderIcon.style.transition = 'all .3s ease-out allow-discrete';\n    } else {\n      nextSlide.classList.remove('disabled');\n    }\n  };\n\n  new Swiper('.swiper', {\n    modules: [Navigation],\n    slidesPerView: 1,\n    spaceBetween: 20,\n    direction: 'horizontal',\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n    centeredSlides: true,\n    on: {\n      init: function () {\n        updateButtonsState(this);\n      },\n      slideChange: function () {\n        updateButtonsState(this);\n      },\n    },\n    breakpoints: {\n      768: {\n        slidesPerView: 1,\n        spaceBetween: 32,\n      },\n      1280: {\n        spaceBetween: 32,\n        centeredSlides: false,\n        slidesPerView: 2,\n      },\n    },\n  });\n};\n\nconst observer = createObserver(renderReviews);\nobserver.observe(reviewList);\n","const modalWindow = document.querySelector('#modal');\nconst closeArr = document.querySelectorAll('[data-close-modal]');\n\nexport function modalWindowOpen() {\n  modalWindow.classList.add('is-open');\n\n  closeArr.forEach(elm => {\n    elm.addEventListener('click', modalWindowClose);\n    document.addEventListener('keydown', closeEsc);\n  });\n}\n\nfunction modalWindowClose() {\n  modalWindow.classList.remove('is-open');\n  document.body.style.overflow = '';\n\n  closeArr.forEach(elm => {\n    elm.removeEventListener('click', modalWindowClose);\n    document.removeEventListener('keydown', closeEsc);\n  });\n}\n\nfunction closeEsc(e) {\n  if (e.key === 'Escape') modalWindowClose();\n}\n","import axios from 'axios';\nimport { modalWindowOpen } from './modal-window';\n\nconst form = document.querySelector('#cont-form');\n\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n  const titleWindow = document.querySelector('#modal .title-modal');\n  const messageWindow = document.querySelector('#modal .desc');\n\n  const data = {\n    email: form.elements['user-email'].value.trim(),\n    comment: form.elements['user-message'].value.trim(),\n  };\n\n  try {\n    const response = await axios.post(\n      'https://portfolio-js.b.goit.study/api/requests',\n      data\n    );\n\n    form.reset();\n    modalWindowOpen();\n    document.body.style.overflow = 'hidden';\n\n    const { title, message } = response.data;\n    titleWindow.innerHTML = title;\n    messageWindow.innerHTML = message;\n  } catch (error) {\n    alert('Failed to submit the form. Try again.');\n  }\n});\n","const mobileMenu = document.querySelector('.mob-menu');\nconst openMenuBtn = document.querySelector('#header .js-open-menu');\nconst arrCloseBtn = document.querySelectorAll('.mob-menu [data-close=\"true\"]');\n\nopenMenuBtn.addEventListener('click', openMenu);\n\nfunction openMenu() {\n  openMenuBtn.classList.toggle('is-active');\n  mobileMenu.classList.toggle('is-open');\n  if (mobileMenu.classList.contains('is-open')) {\n    document.body.style.overflow = 'hidden';\n  } else {\n    document.body.style.overflow = '';\n  }\n\n  arrCloseBtn.forEach(e => {\n    e.addEventListener('click', closeMenu);\n  });\n}\n\nfunction closeMenu() {\n  document.body.style.overflow = '';\n  openMenuBtn.classList.remove('is-active');\n  mobileMenu.classList.remove('is-open');\n  openMenuBtn.addEventListener('click', openMenu);\n\n  arrCloseBtn.forEach(e => {\n    e.removeEventListener('click', closeMenu);\n  });\n}\n","const html = document.querySelector('html');\nconst checkbox = document.querySelectorAll('[name=\"checkbox-mod\"]');\n\nconst localStorageMod = localStorage.getItem('theme');\nif (localStorageMod) {\n  localStorageMod === 'theme-dark'\n    ? changes('theme-light', 'theme-dark')\n    : changes('theme-dark', 'theme-light');\n\n  checkbox.forEach(e => {\n    e.checked = localStorageMod === 'theme-dark';\n  });\n}\n\nfunction changes(firstMod, secondMod) {\n  html.classList.replace(firstMod, secondMod);\n  localStorage.setItem('theme', secondMod);\n\n  checkbox.forEach(e => {\n    e.checked = secondMod === 'theme-dark';\n  });\n}\n\ncheckbox.forEach(e => {\n  e.addEventListener('change', event => {\n    event.target.checked\n      ? changes('theme-light', 'theme-dark')\n      : changes('theme-dark', 'theme-light');\n  });\n});\n"],"names":["count","btnLoadMore","addProjects","listHidden","i","Accordion","createObserver","renderFunction","entries","observer","entry","reviewList","errorText","prevSlide","nextSlide","sliderIcon","fetchReviews","response","axios","error","createMarkup","reviews","review","renderReviews","markup","updateButtonsState","swiper","Swiper","Navigation","modalWindow","closeArr","modalWindowOpen","elm","modalWindowClose","closeEsc","form","event","titleWindow","messageWindow","data","title","message","mobileMenu","openMenuBtn","arrCloseBtn","openMenu","closeMenu","html","checkbox","localStorageMod","changes","firstMod","secondMod","e"],"mappings":"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"}